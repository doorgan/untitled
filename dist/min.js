function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,u=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v=function(t){return{get:function(e){return t.get(e)},set:function(e,n){return t.set(e,n),n}}},y=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,g=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,m=/<[a-z][^>]+$/i,b=/>[^<>]*$/,w=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/gi,O=/\s+$/,C=function t(e,n){return 0<n--&&(m.test(e[n])||!b.test(e[n])&&t(e,n))},A=function(t,e,n){return g.test(e)?t:"<".concat(e).concat(n.replace(O,""),"></").concat(e,">")},E=function(t,e,n){for(var r=[],o=t.length,u=function(n){var o=t[n-1];r.push(y.test(o)&&C(t,n)?o.replace(y,(function(t,r,o){return"".concat(e).concat(n-1,"=").concat(o||'"').concat(r).concat(o?"":'"')})):"".concat(o,"\x3c!--").concat(e).concat(n-1,"--\x3e"))},i=1;i<o;i++)u(i);r.push(t[o-1]);var a=r.join("").trim();return n?a:a.replace(w,A)},j=Array.isArray,k=[],S=k.indexOf,x=k.slice,N=function(t,e){return 111===t.nodeType?1/e<0?e?(r=(n=t).firstChild,o=n.lastChild,(u=document.createRange()).setStartAfter(r),u.setEndAfter(o),u.deleteContents(),r):t.lastChild:e?t.valueOf():t.firstChild:t;var n,r,o,u},P=function(t){var e="fragment",n="template",r="content"in u(n)?function(t){var e=u(n);return e.innerHTML=t,e.content}:function(t){var r=u(e),i=u(n),a=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(t)){var c=RegExp.$1;i.innerHTML="<table>"+t+"</table>",a=i.querySelectorAll(c)}else i.innerHTML=t,a=i.childNodes;return o(r,a),r};return function(t,e){return("svg"===e?i:r)(t)};function o(t,e){for(var n=e.length;n--;)t.appendChild(e[0])}function u(n){return n===e?t.createDocumentFragment():t.createElementNS("http://www.w3.org/1999/xhtml",n)}function i(t){var n=u(e),r=u("div");return r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>",o(n,r.firstChild.childNodes),n}}(document),M=function(t,e){return t.childNodes[e]},_=function(t){for(var e=[],n=t.parentNode;n;)e.push(S.call(n.childNodes,t)),n=(t=n).parentNode;return e},T=document,R=T.createTreeWalker,L=T.importNode,D=1!=L.length,U=D?function(t,e){return L.call(document,P(t,e),!0)}:P,$=D?function(t){return R.call(document,t,129,null,!1)}:function(t){return R.call(document,t,129)},q=function(t,e,n){return function(t,e,n,r,o){for(var u=n.length,i=e.length,a=u,c=0,s=0,l=null;c<i||s<a;)if(i===c)for(var f=a<u?s?r(n[s-1],-0).nextSibling:r(n[a-s],0):o;s<a;)t.insertBefore(r(n[s++],1),f);else if(a===s)for(;c<i;)l&&l.has(e[c])||t.removeChild(r(e[c],-1)),c++;else if(e[c]===n[s])c++,s++;else if(e[i-1]===n[a-1])i--,a--;else if(e[c]===n[a-1]&&n[s]===e[i-1]){var d=r(e[--i],-1).nextSibling;t.insertBefore(r(n[s++],1),r(e[c++],-1).nextSibling),t.insertBefore(r(n[--a],1),d),e[i]=n[a]}else{if(!l){l=new Map;for(var p=s;p<a;)l.set(n[p],p++)}if(l.has(e[c])){var h=l.get(e[c]);if(s<h&&h<a){for(var v=c,y=1;++v<i&&v<a&&l.get(e[v])===h+y;)y++;if(y>h-s)for(var g=r(e[c],0);s<h;)t.insertBefore(r(n[s++],1),g);else t.replaceChild(r(n[s++],1),r(e[c++],-1))}else c++}else t.removeChild(r(e[c++],-1))}return n}(t.parentNode,e,n,N,t)},V=function(t,e){return"ref"===e?function(t){return function(e){"function"==typeof e?e(t):e.current=t}}(t):"aria"===e?function(t){return function(e){for(var n in e){var r="role"===n?n:"aria-".concat(n),o=e[n];null==o?t.removeAttribute(r):t.setAttribute(r,o)}}}(t):".dataset"===e?(n=t.dataset,function(t){for(var e in t){var r=t[e];null==r?delete n[e]:n[e]=r}}):"."===e.slice(0,1)?function(t,e){return function(n){t[e]=n}}(t,e.slice(1)):"on"===e.slice(0,2)?function(t,e){var n,r=e.slice(2);return!(e in t)&&e.toLowerCase()in t&&(r=r.toLowerCase()),function(e){var o=j(e)?e:[e,!1];n!==o[0]&&(n&&t.removeEventListener(r,n,o[1]),(n=o[0])&&t.addEventListener(r,n,o[1]))}}(t,e):function(t,e){var n,r=!0,o=document.createAttributeNS(null,e);return function(e){n!==e&&(null==(n=e)?r||(t.removeAttributeNode(o),r=!0):(o.value=e,r&&(t.setAttributeNodeNS(o),r=!1)))}}(t,e);var n};function W(t){var e=t.type,n=t.path.reduceRight(M,this);return"node"===e?function(t){var e,n,r=[];return function o(u){switch(h(u)){case"string":case"number":case"boolean":e!==u&&(e=u,n?n.textContent=u:n=document.createTextNode(u),r=q(t,r,[n]));break;case"object":case"undefined":if(null==u){e!=u&&(e=u,r=q(t,r,[]));break}if(j(u)){e=u,0===u.length?r=q(t,r,[]):"object"===h(u[0])?r=q(t,r,u):o(String(u));break}"ELEMENT_NODE"in u&&e!==u&&(e=u,r=q(t,r,11===u.nodeType?x.call(u.childNodes):[u]))}}}(n):"attr"===e?V(n,t.name):function(t){var e;return function(n){e!=n&&(e=n,t.textContent=null==n?"":n)}}(n)}var H=v(new WeakMap),z=function(t,e){var n=H.get(e)||H.set(e,function(t,e){for(var n=E(e,"isµ","svg"===t),r=U(n,t),o=$(r),u=[],i=e.length-1,a=0,c="".concat("isµ").concat(a);a<i;){var s=o.nextNode();if(!s)throw"bad template: ".concat(n);if(8===s.nodeType)s.textContent===c&&(u.push({type:"node",path:_(s)}),c="".concat("isµ").concat(++a));else{for(;s.hasAttribute(c);)u.push({type:"attr",path:_(s),name:s.getAttribute(c)}),s.removeAttribute(c),c="".concat("isµ").concat(++a);/^(?:style|textarea)$/i.test(s.tagName)&&s.textContent.trim()==="\x3c!--".concat(c,"--\x3e")&&(s.textContent="",u.push({type:"text",path:_(s)}),c="".concat("isµ").concat(++a))}}return{content:r,nodes:u}}(t,e)),r=n.content,o=n.nodes,u=L.call(document,r,!0);return{content:u,updates:o.map(W,u)}},B=function(t,e){var n=e.type,r=e.template,o=e.values,u=o.length;F(t,o,u);var i=t.entry;i&&i.template===r&&i.type===n||(t.entry=i=function(t,e){var n=z(t,e);return{type:t,template:e,content:n.content,updates:n.updates,wire:null}}(n,r));for(var a=i,c=a.content,s=a.updates,l=a.wire,f=0;f<u;f++)s[f](o[f]);return l||(i.wire=function(t){var e=t.childNodes,n=e.length;if(n<2)return n?e[0]:t;var r=x.call(e,0);return{ELEMENT_NODE:1,nodeType:111,firstChild:r[0],lastChild:r[n-1],valueOf:function(){if(e.length!==n)for(var o=0;o<n;)t.appendChild(r[o++]);return t}}}(c))},F=function t(e,n,r){for(var o=e.stack,u=0;u<r;u++){var i=n[u];i instanceof I?n[u]=B(o[u]||(o[u]={stack:[],entry:null,wire:null}),i):j(i)?t(o[u]||(o[u]={stack:[],entry:null,wire:null}),i,i.length):o[u]=null}r<o.length&&o.splice(r)};function I(t,e,n){this.type=t,this.template=e,this.values=n}var J=Object.create,G=Object.defineProperties,K=function(t){var e=v(new WeakMap);return G((function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new I(t,e,r)}),{for:{value:function(n,r){var o=e.get(n)||e.set(n,J(null));return o[r]||(o[r]=function(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return B(e,{type:t,template:n,values:o})}}({stack:[],entry:null,wire:null}))}},node:{value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return B({stack:[],entry:null,wire:null},{type:t,template:e,values:r}).valueOf()}}})},Q=v(new WeakMap),X=function(t,e){var n="function"==typeof e?e():e,r=Q.get(t)||Q.set(t,{stack:[],entry:null,wire:null}),o=n instanceof I?B(r,n):n;return o!==r.wire&&(r.wire=o,t.textContent="",t.appendChild(o.valueOf())),t},Y=K("html");K("svg");function Z(t){for(var e=t[0],n=1,r=arguments.length;n<r;n++)e+=arguments[n]+t[n];return e}var tt=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,u){return e.apply(this,arguments)};case 6:return function(t,n,r,o,u,i){return e.apply(this,arguments)};case 7:return function(t,n,r,o,u,i,a){return e.apply(this,arguments)};case 8:return function(t,n,r,o,u,i,a,c){return e.apply(this,arguments)};case 9:return function(t,n,r,o,u,i,a,c,s){return e.apply(this,arguments)};case 10:return function(t,n,r,o,u,i,a,c,s,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}};var et=function(t){return null!=t&&"object"===h(t)&&!0===t["@@functional/placeholder"]};var nt=function(t){return function e(n){return 0===arguments.length||et(n)?e:t.apply(this,arguments)}};var rt=function t(e,n,r){return function(){for(var o=[],u=0,i=e,a=0;a<n.length||u<arguments.length;){var c;a<n.length&&(!et(n[a])||u>=arguments.length)?c=n[a]:(c=arguments[u],u+=1),o[a]=c,et(c)||(i-=1),a+=1}return i<=0?r.apply(this,o):tt(i,t(e,o,r))}},ot=function(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return et(n)?e:nt((function(e){return t(n,e)}));default:return et(n)&&et(r)?e:et(n)?nt((function(e){return t(e,r)})):et(r)?nt((function(e){return t(n,e)})):t(n,r)}}}((function(t,e){return 1===t?nt(e):tt(t,rt(t,[],e))}));function ut(){return!0}var it,at=[],ct=[],st=-1,lt=!1,ft=!1;var dt={};function pt(t,e){var n,r,o,u,i=Et([],ut);for(o=[],u=[],n=0;n<e.length;++n)void 0!==e[n]&&(o.push(e[n]),void 0!==e[n].end&&u.push(e[n].end));return(r=Et(o,t)).depsChanged=[],r.fnArgs=r.deps.concat([r,r.depsChanged]),r.end=i,i.listeners.push(r),Pt(u,i),i.deps=u,jt(r),r}function ht(t,e){return pt((function(e,n){n(t(e.val))}),[e])}function vt(t){return ht(t,this)}function yt(t){return t(this)}function gt(t){return mt(t,this)}function mt(t,e){var n=dt.stream(1),r=dt.on((function(){var t=n()-1;n(t),t<=0&&n.end(!0)}));r(e.end);var o=dt.stream(),u=dt.combine((function(e,u){o.end(!0);var i=t(e());n(n()+1),r(i.end),o=ht(u,i)}),[e]);return dt.endsOn(n.end,u),u}function bt(t,e){return pt((function(t,e,n){n(t.val(e.val))}),[e,t])}function wt(t){return bt(t,this)}function Ot(t){return bt(this,t)}function Ct(){return"stream("+this.val+")"}function At(){function t(e){return 0===arguments.length?t.val:(Nt(e,t),t)}return t.hasVal=!1,t.val=void 0,t.updaters=[],t.listeners=[],t.queued=!1,t.end=void 0,t.ap=wt,t["fantasy-land/map"]=t.map=vt,t["fantasy-land/ap"]=Ot,t["fantasy-land/of"]=t.of=dt.stream,t["fantasy-land/chain"]=t.chain=gt,t.pipe=yt,t.constructor=dt.stream,t.toJSON=function(){return t.val},t.toString=Ct,t}function Et(t,e){var n=At();return n.fn=e,n.deps=t,n.depsMet=!1,n.depsChanged=t.length>0?[]:void 0,n.shouldUpdate=!1,Pt(t,n),n}function jt(t){if(!function(t){return t.end&&!0===t.end.val}(t)&&function(t){return!0===t.depsMet||function(t){return t.depsMet=t.deps.every((function(t){return t.hasVal})),t.depsMet}(t)}(t))if(void 0===it){it=t,t.depsChanged&&(t.fnArgs[t.fnArgs.length-1]=t.depsChanged);var e=t.fn.apply(t.fn,t.fnArgs);void 0!==e&&t(e),it=void 0,void 0!==t.depsChanged&&(t.depsChanged=[]),t.shouldUpdate=!1,!1===(lt||ft)&&xt(),function(t){return t.listeners.some((function(t){return t.shouldUpdate}))}(t)&&(ft?t.listeners.forEach((function(t){t.shouldUpdate&&St(jt,t)})):t(t.val))}else St(jt,t)}function kt(t){var e,n=t.listeners;if(!1===t.queued){for(t.queued=!0,e=0;e<n.length;++e)kt(n[e]);ct[++st]=t}}function St(t,e){at.push(e),e.updaters.push(t),e.shouldUpdate=!0}function xt(){for(lt=!0;at.length>0;){var t=at.shift(),e=t.updaters.shift();e&&t.shouldUpdate&&e(t)}lt=!1}function Nt(t,e){e.val=t,e.hasVal=!0,void 0===it?(ft=!0,function(t){var e,n,r,o=t.listeners;for(e=0;e<o.length;++e)(r=o[e]).end===t?Tt(r):(void 0!==r.depsChanged&&r.depsChanged.push(t),r.shouldUpdate=!0,kt(r));for(;st>=0;--st)!0===(n=ct[st]).shouldUpdate&&jt(n),n.queued=!1}(e),at.length>0&&xt(),ft=!1):it===e?function(t,e){var n,r;for(n=0;n<e.length;++n)(r=e[n]).end!==t?(void 0!==r.depsChanged&&r.depsChanged.push(t),r.shouldUpdate=!0):Tt(r)}(e,e.listeners):St((function(e){Nt(t,e)}),e)}function Pt(t,e){for(var n=0;n<t.length;++n)t[n].listeners.push(e)}function Mt(t,e){var n=e.indexOf(t);e[n]=e[e.length-1],e.length--}function _t(t){for(var e=0;e<t.deps.length;++e)Mt(t,t.deps[e].listeners);t.deps.length=0}function Tt(t){void 0!==t.deps&&_t(t),void 0!==t.end&&_t(t.end)}function Rt(){}dt.stream=function(t){var e=Et([],ut),n=At();return n.end=e,n.fnArgs=[],e.listeners.push(n),arguments.length>0&&n(t),n},dt.stream["fantasy-land/of"]=dt.stream.of=dt.stream,dt.combine=ot(2,pt),dt.isStream=function(t){return!!((e=t)&&e.constructor&&e.call&&e.apply)&&"hasVal"in t;var e},dt.immediate=function(t){return!1===t.depsMet&&(t.depsMet=!0,jt(t)),t},dt.endsOn=function(t,e){return _t(e.end),t.listeners.push(e.end),e.end.deps.push(t),e},dt.map=ot(2,ht),dt.chain=ot(2,mt),dt.ap=ot(2,bt),dt.on=ot(2,(function(t,e){return pt((function(e){t(e.val)}),[e])})),dt.scan=ot(3,(function(t,e,n){var r=pt((function(n,r){r(e=t(e,n.val))}),[n]);return r.hasVal||r(e),r})),dt.merge=ot(2,(function(t,e){var n=dt.immediate(pt((function(t,e,n,r){r[0]?n(r[0]()):t.hasVal?n(t.val):e.hasVal&&n(e.val)}),[t,e]));return dt.endsOn(pt((function(){return!0}),[t.end,e.end]),n),n})),dt.transduce=ot(2,(function(t,e){return t=t(new Rt),pt((function(e,n){var r=t["@@transducer/step"](void 0,e.val);return r&&!0===r["@@transducer/reduced"]?(n.end(!0),r["@@transducer/value"]):r}),[e])})),dt.curryN=ot,dt.fromPromise=function(t){var e=dt.stream();return t.then((function(t){e(t),e.end(!0)})),e},dt.flattenPromise=function(t){return pt((function(t,e){t().then(e)}),[t])},Rt.prototype["@@transducer/init"]=function(){},Rt.prototype["@@transducer/result"]=function(){},Rt.prototype["@@transducer/step"]=function(t,e){return e};var Lt=dt,Dt=Object.assign||function(t,e){return e&&Object.keys(e).forEach((function(n){return t[n]=e[n]})),t},Ut=function t(e,n,r){var o=h(r);if(r&&"object"===o)if(Array.isArray(r)){var u,i=d(r);try{for(i.s();!(u=i.n()).done;){n=t(e,n,u.value)}}catch(t){i.e(t)}finally{i.f()}}else for(var a=0,c=Object.keys(r);a<c.length;a++){var s=c[a],l=r[s];"function"==typeof l?n[s]=l(n[s],$t):void 0===l?e&&!isNaN(s)?n.splice(s,1):delete n[s]:null===l||"object"!=h(l)||Array.isArray(l)?n[s]=l:"object"==h(n[s])?n[s]=l===n[s]?l:$t(n[s],l):n[s]=t(!1,{},l)}else"function"===o&&(n=r(n,$t));return n},$t=function(t){for(var e=Array.isArray(t),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Ut(e,e?t.slice():Dt({},t),r)},qt=Lt.stream,Vt=Lt.scan,Wt=function(t){var e=qt(),n=Vt((function(t,e){return $t(t,e)}),t,e);return Object.assign(n,{update:e})},Ht=Object.defineProperties,zt=Object.keys,Bt=function(t,e,n,r,o){return{configurable:!0,get:function(){return r},set:function(u){(t||u!==r||e&&"object"===h(u)&&u)&&(r=u,n?o.call(this,r):o.call(this))}}},Ft=function(t,e,n,r,o,u){for(var i={},a=o!==It,c=[n,r,a],s=zt(t),l=0;l<s.length;l++){var f=e(t,s[l]),d=a?o(f):[f,o];u&&(d[1]=u),i[s[l]]=Bt.apply(null,c.concat(d))}return i},It=function(){},Jt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.all,n=void 0!==e&&e,r=t.shallow,o=void 0===r||r,u=t.useState,i=void 0===u?It:u,a=t.getAttribute,c=void 0===a?function(t,e){return t.getAttribute(e)}:a;return function(t,e,r){var u=Ft(e,(function(e,n){var r=e[n],o=h(r);return t.hasOwnProperty(n)?(r=t[n],delete t[n]):t.hasAttribute(n)&&(r=c(t,n),"number"==o?r=+r:"boolean"==o&&(r=!/^(?:false|0|)$/.test(r))),r}),n,o,i,r);return Ht(t,u)}}({dom:!0}),Gt=function(){return{current:null}},Kt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HTMLElement;return t},Qt=new WeakMap,Xt=new WeakSet,Yt=new Set,Zt=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=function(t){u(c,t);var i=a(c);function c(){var t;e(this,c);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f(s(t=i.call.apply(i,[this].concat(r))),"scheduled_render",void 0),t}return r(c,[{key:"connectedCallback",value:function(){var t=this;this.connected(),this.dispatchEvent(new CustomEvent("connected")),setTimeout((function(){return t.ready()}))}},{key:"connected",value:function(){o(l(c.prototype),"connected",this)&&o(l(c.prototype),"connected",this).call(this)}},{key:"disconnected",value:function(){o(l(c.prototype),"disconnected",this)&&o(l(c.prototype),"disconnected",this).call(this)}},{key:"ready",value:function(){var t=this;oe(this),n.props&&Jt(this,n.props,(function(){return ee(t)})),o(l(c.prototype),"ready",this)&&o(l(c.prototype),"ready",this).call(this),Xt.add(this),this.dispatchEvent(new CustomEvent("ready")),ee(this)}},{key:"disconnectedCallback",value:function(){var t;null===(t=Qt.get(this))||void 0===t||t.forEach((function(t){t.end(!0)})),Qt.delete(this),Xt.delete(this),this.disconnected(),this.dispatchEvent(new CustomEvent("disconnected"))}},{key:"update",value:function(){o(l(c.prototype),"update",this)&&o(l(c.prototype),"update",this).call(this),this.dispatchEvent(new CustomEvent("updated")),this.schedule_render()}},{key:"schedule_render",value:function(){var t=this;this.scheduled_render&&cancelAnimationFrame(this.scheduled_render),this.scheduled_render=requestAnimationFrame((function(){t.scheduled_render=void 0,t.performRender()}))}},{key:"performRender",value:function(){o(l(c.prototype),"render",this)&&X(this,o(l(c.prototype),"render",this).call(this)),this.dispatchEvent(new CustomEvent("rendered"))}},{key:"handleEvent",value:function(t){Reflect.get(this,"handle_".concat(t.type))(t)}},{key:"useStore",value:function(t){return ie(this,t)}}]),c}(n);if(customElements.get(t)||customElements.define(t,c,i),n.css){var d=document.createElement("style"),p=i.extends?"".concat(i.extends,"[is=").concat(t,"]"):t;d.textContent=n.css(p),document.head.appendChild(d)}return c},te=function(){var t=Yt;Yt=new Set,t.forEach((function(t){var e;null===(e=t.update)||void 0===e||e.call(t)}))},ee=function(t){Yt.has(t)||(Yt.add(t),1===Yt.size&&ne(te))},ne=function(t){window.queueMicrotask?window.queueMicrotask(t):new Promise((function(t){return t()})).then(t)},re=new WeakSet,oe=function(t){if(!re.has(t)){var e=ue(t);Reflect.set(t,"slots",e),re.add(t)}},ue=function e(n){for(var r=[],o={},u=0,i=Array.from(n.childNodes);u<i.length;u++){var a=i[u];if(a instanceof HTMLTemplateElement)return e(a.content);var c=a instanceof Element?a.getAttribute("slot"):null;c?o[c]=a:r.push(a)}return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({default:r},o)},ie=function(t,e){var n=Qt.get(t)||[],r=e.map((function(){Xt.has(t)&&ee(t)}));return n.push(r),Qt.set(t,n),e};export{Kt as Component,Z as css,Zt as define,Y as html,Gt as ref,Wt as store,ie as useStore};
